<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" typr="text/css" href="css-signin.css">
<title>朝阳星光-线上自习室-注册</title>
</head>
<body>
<nav style="background-color: #e3f2fd" class="navbar">
  <table>
      <thead>
          <th class="q1">朝阳星光</th>
          <th class="q2"><a href="first-P.html"><i class="fa fa-fw fa-home"></i>&nbsp;主页/Home</a></th>
          <th>
              <div class="classroom">
                  <button class="room_button" type="button">
                      <i class="fa-solid fa-building"></i><b>&nbsp;教室/Classroom<i class="bi bi-caret-right-fill"></i></b>
                  </button>
                  <div class="classroom_detail">
                    <a href="/E:/Visual Thinking/room/common_room/common-room.html">通用教室</a>
                    <a href="/E:/Visual Thinking/room/animal_room/animal_room.html">仓鼠教室</a>
                    <a href="/E:/Visual Thinking/room/rest_room/rest.html">休息室</a>
                  </div>
              </div>
          </th>
          <th class="q4"><a href="big-singin-css.html" id="log_s"><i class="fa-solid fa-user"></i>&nbsp;登录_Login/注册_Register</a></th>
      </thead>
  </table>
</nav>

<div class="container" onclick="myFunction(this)">
  <button class="menu">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
  </button>
  <div class="menu_detail">
      <a href="first-P.html"><i class="fa fa-fw fa-home"></i>&nbsp;主页/Home</a>
      <div class="classroom">
          <button class="bb">
              <i class="fa-solid fa-building"></i>&nbsp;教室/Classroom&nbsp;>
          </button>
          <div class="classroom_detail">
            <a href="/E:/Visual Thinking/room/common_room/common-room.html">通用教室</a>
            <a href="/E:/Visual Thinking/room/animal_room/animal_room.html">仓鼠教室</a>
            <a href="/E:/Visual Thinking/room/rest_room/rest.html">休息室</a>
          </div>
      </div>
      <a href="javascript:;" id="log"><i class="fa-solid fa-user"></i>&nbsp;登录_Login/注册_Register</a>        
      <div class="login">
          <div class="l_title">
              用户登录/User-Login
              <a href="javascript:;" id="close"><big><i class="fa-solid fa-xmark"></i></big></small></a>
          </div>
          <div class="l_content">
              <p>用户名/Username：<input type="text" class="username"></p>
              <p>密&nbsp;码/Password：<input type="password" class="u_p"></p>
              <p><input type="checkbox" id="r_up">记住账号密码/Remember Me</p>
              <p><button onclick="bibi()" type="button" class="bt">登录/Login</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<small>未有账号？</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="signin.html" class="c_signin">注册/Signup</a></p>
          </div>
      </div>
      <div class="bg"></div>
  </div>
</div>

<script>
  function myFunction(x) {
      x.classList.toggle("change");
  }

  var acc = document.getElementsByClassName("menu");
  var i;
  for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var menu_detail = this.nextElementSibling;
      if (menu_detail.style.maxHeight) {
          menu_detail.style.maxHeight = null;
      } 
      else {
          menu_detail.style.maxHeight = menu_detail.scrollHeight + "px";
      }
      });
  }

  var a = document.querySelector('#log');
  var div = document.querySelector('.l_title');
  var close = document.querySelector('#close');
  var bg = document.querySelector('.bg');
  var login = document.querySelector('.login');
  var username = document.querySelector('.username');
  var u_p = document.querySelector('.u_p');
  var r_up = document.querySelector('#r_up');
  a.onclick=function(){
      bg.style.display = 'block';
      login.style.display='block';
  }
  close.onclick=function(){
      bg.style.display = 'none';
      login.style.display='none';
  }
  div.addEventListener('mousedown',function(e){
      var x = e.pageX-login.offsetLeft;
      var y = e.pageY-login.offsetTop;
      document.addEventListener("mousemove",move)
      function move(e){
          var newx=e.pageX-x;
          var newy=e.pageY-y;
      login.style.left=newx+'px';
      login.style.top=newy+'px';
      }
      document.addEventListener('mouseup',function(e){
          document.removeEventListener("mousemove",move);
      })
  })
  r_up.addEventListener('change',function(){
      if(r_up.checked){
          localStorage.setItem('username',username.value);
          localStorage.setItem('u_p',u_p.value);
      }
      else{
          localStorage.removeItem('username');
          localStorage.removeItem('u_p');
      }
  })
  if(localStorage.getItem('username')){
      if(localStorage.getItem('u_p')){
          r_up.checked=true;
          username.value=localStorage.getItem('username');
          u_p.value=localStorage.getItem('u_p');
      }
  }
  function bibi(){
      var n = username.value;
      var p = u_p.value;
      if(n){
          if(p){
              alert("登录成功！");
          }
      }
      if(!n || !p){
          alert("请输入完整用户信息！");
      }
  }
</script>

<div class="kuakua">
    <form name="registerFrom">
      <div>
        <label for="email" class="e">电子邮箱/Email:</label>
        <input type="email" id="email" name="nemail" minlength="6" placeholder="Email address"><mark>*</mark>
      </div>
      <div>
        <label for="nickname" class="e">昵称/Nickname:</label>
        <input type="text" id="nickname" name="nNickname" placeholder="Nickname"><mark>*</mark>
        <!-- <div>昵称必须小于8位!</div> -->
      </div>
      <div>
        <label for="sex" class="e">性别/Sex:</label>
        <select name="sex" id="e">
          <option>&nbsp;&nbsp;男/Male&nbsp;&nbsp;></option>
          <option>&nbsp;&nbsp;女/Female</option>
          <option>&nbsp;&nbsp;保密/Secrete</option>
        </select>
      </div>
      <div>
        <label for="name" class="e">学习目的/Purpose:</label>
        <select name="registerType" required="" id="e">
          <option value="考公">&nbsp;&nbsp;考公&nbsp;&nbsp;></option>
          <option value="考研">&nbsp;&nbsp;考研</option>
          <option value="考编">&nbsp;&nbsp;考编</option>
          <option value="高考">&nbsp;&nbsp;高考</option>
          <option value="其他考试">&nbsp;&nbsp;其他考试</option>
          <option value="自习自律">&nbsp;&nbsp;自习自律</option>
        </select>
        <br>
        <label for="password1" class="e">密码/Password:</label>
        <input type="password" id="password1" name="registerPassword1" placeholder="Input password"><mark>*</mark>
        <br>
        <div id="mindwords1">密码长度须8位以上(length>=8)</div>
      </div>
      <div>
        <label for="password2" class="e">确认密码/Password:</label>
        <input type="password" id="password2" name="registerPassword2" placeholder="Password again"><mark>*</mark>
        <div id="mindwords2">两次密码须相同(same with last)</div>
      </div>
      <div style="color: red"></div>
      <div>
        <button type="button" onclick="save()" name="registerSubmit" class="zcb">
          <big>注册/Submit</big>
        </button>
      </div>
    </form>
  </div>
  <div class="haha">
    <p><img src="star-sun_sign.jpg"></p>
    <p>Welcom!</p>
    <p>欢迎注册朝阳星光线上自习室！</p>
  </div>
  
<script>
    //验证注册数据格式
      //保存数据  
  function save(){  
      var email = document.getElementById("email").value;
      if(!email) alert("邮箱不可为空！");
      var nickname = document.getElementById("nickname").value; 
      if(!nickname) alert("用户名不可为空！");
      var password1 = document.getElementById("password1").value;
      var password2 = document.getElementById("password2").value;
      if(!password1 || !password2){
        alert("密码不可为空！");
      }
      if(password1){
        if(password2){
          var sp1 = String(password1);
          var len = sp1.length;
          if(len<8){
            alert("密码长度不足,需大于8位!");
          }
          if(password1!=password2){
          alert("两次密码不相同！请重新输入.");
          }
          else{
            localStorage.setItem(email, password1);
            localStorage.password1 = nickname;
            alert("注册成功！");
          }
        }
      } 
    }
      
         
  </script>
</body>
</html>